:root {
    --bg-color: #0b0c15;
    --sidebar-bg: #11121d;
    --card-bg: #1c1e2e;
    --slot-bg: #151725;
    --text-primary: #ffffff;
    --text-secondary: #8892b0;
    --accent: #00bcd4;
    --border: #2d3748;
    --active-border: #00bcd4;
    --ammo-color: #ff9f43; 
    --passive-color: #a29bfe;

    --btn-minus: #54a0ff;
    --btn-plus: #ff6b6b;
    --btn-bg: #2d3447;
}

* { box-sizing: border-box; margin: 0; padding: 0; }

body { 
    font-family: 'Noto Sans KR', 'Apple SD Gothic Neo', sans-serif; 
    font-size: 16px; 
    background-color: var(--bg-color); 
    color: var(--text-primary); 
    height: 100vh; 
    overflow: hidden; 
}

.container { display: flex; height: 100%; }

/* 사이드바 */
.sidebar { 
    width: 420px; 
    background-color: var(--sidebar-bg); 
    display: flex; 
    flex-direction: column; 
    border-right: 1px solid var(--border); 
    flex-shrink: 0; 
}

.sidebar-header { padding: 18px; border-bottom: 1px solid var(--border); }
.header-top { display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px; }
.sidebar-header h2 { font-size: 20px; color: var(--text-secondary); margin: 0; }

/* 버전 뱃지 스타일 */
.version-badge {
    font-size: 12px;
    background: #2d3748;
    color: var(--accent);
    padding: 4px 8px;
    border-radius: 12px;
    font-weight: bold;
    border: 1px solid var(--border);
}

#search-input { 
    width: 100%; padding: 12px; font-size: 16px; 
    background: var(--bg-color); border: 1px solid var(--border); 
    color: white; border-radius: 6px; 
}

/* 자음 필터 - Grid Layout 수정 */
.filter-bar {
    padding: 10px;
    border-bottom: 1px solid var(--border);
    background: #161824;
    display: grid;
    /* 전체 너비 9칸 (전체버튼 2칸 + 자음 7칸) */
    grid-template-columns: repeat(9, 1fr);
    grid-template-rows: repeat(2, 34px); /* 높이 고정 */
    gap: 4px;
}

.filter-btn {
    width: 100%; height: 100%; /* 부모 그리드 셀 꽉 채우기 */
    font-size: 15px; 
    background: #252836; border: 1px solid #3d4960; 
    color: #8892b0; border-radius: 6px;
    cursor: pointer; display: flex; align-items: center; justify-content: center;
    transition: all 0.2s; font-family: 'Noto Sans KR', sans-serif;
}
.filter-btn:hover { border-color: var(--accent); color: white; }
/* style.css 약 90번째 줄 근처 */

.filter-btn.active {
    background: var(--accent); 
    color: #0b0c15; /* 배경이 밝은 색(Cyan)이므로 글자는 검은색 */
    border-color: var(--accent); 
    font-weight: bold; 
}

.filter-btn.all-btn.active {
    color: #ffffff; /* 전체 버튼은 흰색 유지 */
    /* 배경색을 다르게 하고 싶다면 여기에 background 속성 추가 가능 */
}

/* '전체' 버튼 전용 스타일 */
.filter-btn.all-btn {
    grid-column: span 2; /* 가로 2칸 차지 */
    grid-row: span 2;    /* 세로 2칸 차지 */
    font-size: 16px;
    font-weight: bold;
    background: #2d3447;
}

/* 챔피언 그리드 */
.champion-grid { 
    flex: 1; overflow-y: auto; padding: 15px; padding-right: 25px;
    display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; align-content: start; 
}
.champ-item { 
    cursor: pointer; position: relative; aspect-ratio: 1/1; 
    border: 2px solid transparent; transition: all 0.2s; 
}
.champ-item img { width: 100%; height: 100%; border-radius: 6px; object-fit: cover; }
.champ-item span { 
    position: absolute; bottom: 0; left: 0; right: 0; 
    background: rgba(0,0,0,0.7); font-size: 12px; 
    text-align: center; padding: 4px; 
    text-overflow: ellipsis; white-space: nowrap; overflow: hidden;
    border-bottom-left-radius: 4px; border-bottom-right-radius: 4px;
}
.champ-item:hover { border-color: var(--accent); transform: scale(1.05); z-index: 10; }

::-webkit-scrollbar { width: 10px; }
::-webkit-scrollbar-track { background: var(--bg-color); }
::-webkit-scrollbar-thumb { background: #333; border-radius: 5px; border: 2px solid var(--bg-color); }

/* 메인 콘텐츠 */
.main-content { flex: 1; display: flex; flex-direction: column; overflow: hidden; background: var(--bg-color); }

.top-settings-bar { 
    background: var(--card-bg); padding: 15px 25px; border-bottom: 1px solid var(--border); 
    flex-shrink: 0; display: flex; justify-content: space-between; align-items: center; z-index: 20; 
}
.mode-switch-wrapper, .view-toggle-wrapper { display: flex; align-items: center; gap: 12px; font-size: 16px; font-weight: bold; }
.mode-label.active-text { color: var(--accent); }

/* 스위치 */
.switch { position: relative; display: inline-block; width: 50px; height: 28px; }
.switch input { opacity: 0; width: 0; height: 0; }
.slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #333; transition: .4s; border-radius: 34px; }
.slider:before { position: absolute; content: ""; height: 20px; width: 20px; left: 4px; bottom: 4px; background-color: white; transition: .4s; border-radius: 50%; }
input:checked + .slider { background-color: var(--accent); }
input:checked + .slider:before { transform: translateX(22px); }

/* 상세 컨테이너 */
.detail-container { flex: 1; overflow-y: auto; background: var(--bg-color); }
.detail-container.single-mode { display: flex; justify-content: center; padding: 0; }
.detail-container.single-mode .champion-slot { width: 100%; max-width: 900px; border-left: 1px solid var(--border); border-right: 1px solid var(--border); height: 100%; }
.detail-container.single-mode #slot-2 { display: none; }
.detail-container:not(.single-mode) { display: grid; grid-template-columns: 1fr 1fr; gap: 2px; background: var(--border); width: 100%; max-width: 1800px; margin: 0 auto; }

.champion-slot { 
    background: var(--bg-color); 
    /* 패딩 제거하고 Flex Column으로 변경 */
    display: flex; flex-direction: column;
    padding: 25px; 
    position: relative; 
    transition: background 0.2s; 
    overflow: hidden; /* 내부 스크롤을 위해 */
}

.detail-container:not(.single-mode) .champion-slot:not(.active) { opacity: 0.6; filter: grayscale(0.5); background: #0f1016; }
.detail-container:not(.single-mode) .champion-slot.active { box-shadow: inset 0 0 0 2px var(--active-border); background: var(--slot-bg); opacity: 1; }

.slot-controls { 
    flex-shrink: 0; /* 컨트롤 패널은 크기 줄어들지 않음 */
    background: var(--card-bg); border-radius: 10px; padding: 20px; margin-bottom: 20px; 
    border: 1px solid var(--border); max-width: 600px; margin-left: auto; margin-right: auto; width: 100%;
    z-index: 5;
}

/* 스킬 콘텐츠 영역 (스크롤 가능 및 중앙정렬 부모) */
.slot-content-wrapper {
    flex: 1;
    position: relative; /* empty-state 절대위치 기준점 */
    overflow-y: auto; /* 스크롤은 여기서 발생 */
    padding-right: 5px;
}

/* 중앙 정렬 완벽 수정 */
.empty-state { 
    position: absolute;
    top: 50%; left: 50%;
    transform: translate(-50%, -50%);
    text-align: center; 
    color: var(--text-secondary); 
    pointer-events: none; 
    width: 100%;
}
.empty-state .icon { font-size: 50px; margin-bottom: 15px; font-weight: bold; color: #333; border: 3px solid #333; width: 80px; height: 80px; line-height: 74px; border-radius: 50%; display: inline-block; }
.empty-state p { font-size: 18px; }

/* 컨트롤 패널 내부 */
.control-unit { display: flex; flex-direction: column; gap: 10px; }
.unit-header { display: flex; justify-content: space-between; font-size: 15px; font-weight: bold; color: #ddd; }
.cdr-text { color: var(--accent); font-size: 16px; }
.unit-body { display: flex; align-items: center; gap: 10px; justify-content: space-between; }
.unit-body input { width: 80px; height: 42px; font-size: 24px; text-align: center; border: 1px solid var(--border); background: #111; color: #fff; border-radius: 6px; font-weight: bold; }
input[type=number]::-webkit-inner-spin-button, input[type=number]::-webkit-outer-spin-button { -webkit-appearance: none; margin: 0; }
input[type=number] { -moz-appearance: textfield; }

.btn-group { display: flex; gap: 3px; }
.btn-group button { 
    /* [수정] 버튼 너비 축소 (40px -> 34px) */
    width: 40px; 
    height: 40px; 
    font-size: 14px; /* 글자 크기도 살짝 줄임 */
    padding: 0;      /* 패딩 제거하여 숫자 잘리지 않게 함 */
    background: var(--btn-bg); 
    border: 1px solid #3d4960; 
    border-radius: 6px; 
    cursor: pointer; 
    font-weight: bold; 
    transition: 0.2s; 
}
.btn-group button:hover { background: #4a5568; transform: translateY(-2px); }
.btn-group.minus button { color: var(--btn-minus); border-color: rgba(84, 160, 255, 0.3); }
.btn-group.minus button:hover { background: rgba(84, 160, 255, 0.1); }
.btn-group.plus button { color: var(--btn-plus); border-color: rgba(255, 107, 107, 0.3); }
.btn-group.plus button:hover { background: rgba(255, 107, 107, 0.1); }
.btn-reset-full { width: 100%; padding: 10px; margin-top: 6px; background: #2d2020; color: #ff8888; border: 1px solid #522; border-radius: 6px; cursor: pointer; font-size: 14px; font-weight: bold; transition: 0.2s; }
.btn-reset-full:hover { background: #522; color: white; }
.control-divider { border: 0; border-top: 1px solid var(--border); margin: 15px 0; opacity: 0.3; }

/* 스킬 카드 */
.slot-header { display: flex; align-items: center; gap: 20px; margin-bottom: 25px; padding-bottom: 15px; border-bottom: 1px solid var(--border); }
.slot-header img { width: 64px; height: 64px; border-radius: 50%; border: 3px solid var(--accent); }
.slot-header h1 { font-size: 24px; margin-bottom: 4px; }
.slot-header p { font-size: 14px; color: var(--text-secondary); }

.skill-card { background: var(--card-bg); padding: 16px; margin-bottom: 12px; border-radius: 8px; display: flex; gap: 16px; align-items: start; }
.skill-img-wrapper { position: relative; flex-shrink: 0; }
.skill-img { width: 56px; height: 56px; border-radius: 6px; display: block; }
.skill-key-badge { position: absolute; bottom: -6px; right: -6px; background: #000; color: var(--accent); border: 1px solid var(--accent); font-size: 11px; padding: 1px 4px; border-radius: 4px; font-weight: bold; }
.skill-info { flex: 1; min-width: 0; }
.skill-header { display: flex; justify-content: space-between; margin-bottom: 8px; align-items: center; }
.skill-name { font-weight: bold; font-size: 18px; color: #ddd; }

/* 테이블 (고정 너비) */
.all-levels-table { width: 100%; border-collapse: collapse; margin-top: 10px; border: 1px solid #3d4960; background: #151725; table-layout: fixed; }
.all-levels-table th { font-size: 13px; color: #8892b0; background: #252836; border: 1px solid #3d4960; padding: 8px 0; }
.all-levels-table td { text-align: center; padding: 10px 0; font-size: 18px; font-weight: bold; color: var(--accent); border: 1px solid #3d4960; white-space: nowrap; }

.ammo-text { color: var(--ammo-color) !important; }
.passive-text { color: var(--passive-color) !important; }

/* 레벨 셀렉터 */
.level-selector { display: flex; gap: 4px; margin-bottom: 6px; }
.lvl-btn { width: 32px; height: 32px; font-size: 14px; background: #252836; border: 1px solid var(--border); color: #888; cursor: pointer; padding: 0; }
.lvl-btn.active { background: var(--accent); color: #000; border-color: var(--accent); font-weight: bold; }

.main-cooldown { font-size: 32px; font-weight: bold; color: var(--accent); margin-top: 8px; white-space: nowrap; }

.tags { display: flex; gap: 6px; }
.tag { font-size: 11px; padding: 2px 6px; border-radius: 4px; border: 1px solid #555; color: #aaa; }
.tag.toggle { background: rgba(83, 82, 237, 0.2); color: #5352ed; border-color: #5352ed; }
.tag.passive { background: #444; color: #aaa; border-color: #666; }
.tag.ammo { background: rgba(255, 159, 67, 0.1); color: var(--ammo-color); border-color: var(--ammo-color); }

.hidden { display: none !important; }
.tooltip { position: fixed; background: rgba(0, 0, 0, 0.95); border: 1px solid var(--border); padding: 16px; border-radius: 6px; width: 340px; color: #ddd; font-size: 14px; pointer-events: none; z-index: 1000; line-height: 1.5; box-shadow: 0 4px 15px rgba(0,0,0,0.5); }

/* 버전 전환 버튼 스타일 */
.view-switch-btn {
    display: inline-block;
    padding: 8px 12px;
    background-color: #2a2e3f;
    color: #8892b0;
    border: 1px solid #3d4960;
    border-radius: 4px;
    text-decoration: none;
    font-size: 12px;
    transition: 0.2s;
    margin-left: 10px; /* PC 상단바용 여백 */
}

.view-switch-btn:hover {
    background-color: #00d1ff;
    color: #0b0c15;
    border-color: #00d1ff;
    font-weight: bold;
}